/# a script for experimentation and debugging. #/

/#
fn greet(name)
  println name
end

a = "Hello, World!"
b = [1, 2, 3, ["a", "b"]]
c = b[0]
c += 1

greet(a)

a = {
  "a": true, 
  "b": {
    "c": [1, 2, {"key": 3}]
  }
}

a.x.set(0, a.x.get(2))
a = {}
a.x = 5
a.b.c = [1]
a.x = [1..5].size()
a = [1,2][0]

m = (1 + 2) ** 5
n = [1..m]
a = n[0:1:2]
b = n[0::2]
c = n[::-1]
d = n[1::]
e = n[48]
f = [1, 2, 3, [4, 5]][::-1]
g = [1..20][::2]
a = n < 5 ? 100 : 101
a += 1

say = with (text) do
  println text
end

say("hello")

for i, index in [1..50] do
  println i
end

for n in b do
  println n
end

while n < 5 do
  println "hello"
end

repeat 5 as i do
  println i
end

try
  println "First try"
catch (err)
  println "an error occurred: ${err}"
finally
  println "the end of first try!"
end

try
  println "Second try"
catch (err, msg)
  println "an error occurred: ${err} with message: ${msg}"
finally
  println "the end of second try!"
end

try
  println "Third try"
catch
  println "an error occurred"
finally
  println "the end of third try!"
end

try
  println "Fourth try"
catch
  println "an error occurred"
end

try
  println "Fifth try"
finally
  println "the end of fifth try!"
end

try
  println "Sixth try"
end

while n < 5 do
  try 
    println n
  end
end

if 1 < 5
  println "1 is < 5"
elsif 5 > 1
  println "5 is > 1"
elsif 4 > 1
  if 2 < 4
    println "woot"
  end
else
  if 'a' < 'b'
    println "foobar"
  else
    println "blah"
  end
end

if 1 < 5
  if 2 < 3
    if 4 < 6 
      println "blah"
    end 
  end 
end

import "hello"

package pkg_name 
  home("kiwi")

  fn method_1()
    println "method 1"
  end

  fn method_2(a)
    println "method 2: ${a}"
  end

  fn method_3(a)
    throw "not a number" when !a.is_a(Integer) && !a.is_a(Double)
    return a * 3
  end
end

export "pkg_name"

case number
  when 0 
    println "zero"
  when 1
    println "one"
  else
    println "none"
end

case 
  when 1 < n
    println "1 is less than n"
  when 1 < m
    println "1 is less than m"
  else
    println "n and m are less than 1"
end
#/