# a script for debugging and experimentation (and fun!)

fn benchmark_getbytes(path)
  start = time::ticks()
  file_bytes = fs::getbytes(path).size()
  stop = time::ticks()
  
  println "size: ${file_bytes} byte(s), duration: ${time::ticksms(stop - start)}ms"

  return file_bytes
end

fn run()
  start = time::ticks()
  total_bytes = 0

  for path in fs::glob("./lib/**/*") do
    total_bytes += benchmark_getbytes(path)
  end

  println "total byte(s): ${total_bytes}, total duration: ${time::ticksms(time::ticks() - start)}ms"
  global.fun = "hello"
end

fork run()

println global.to_string()
println "fooobar!"