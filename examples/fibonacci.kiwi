#!/usr/bin/env kiwi

fn main()
  println "recursive fibonacci: " + [0 to 30].map(with (n) do rfib(n) end)
  println "iterative fibonacci: " + ifib(100000)
end

fn rfib(n: integer): integer
  if n <= 1
    return n
  end
  
  rfib(n - 1) + rfib(n - 2)
end

fn ifib(n)
  fib = [], t1 = 0, t2 = 1, nextTerm = 0
  nextTerm = t1 + t2

  while nextTerm <= n do
    fib.push(nextTerm)
    t1 = t2
    t2 = nextTerm
    nextTerm = t1 + t2
  end

  fib
end

main()