/#
The Kiwi Project 1.3.7
#/


fn main()
  include "lib/testsuite"

  println "Running Kiwi Test Suite v${testsuite::__version__()}...\n"

  var (
    results:   list    = tester::run_tests(),
    succeeded: integer = 0,
    failed:    integer = 0,
    duration:  integer = 0
  )

  for r in results do
    duration += r.duration

    if r.result
      succeeded += 1
    else
      failed += 1
    end
  end

  println "\nRan ${results.size()} test(s) in ${duration}ms\n"

  if failed == 0
    println "All tests passed!"
  else
    println "${succeeded} tests passed, ${failed} tests failed."
    exit 1
  end
end

main()
